---
title: 第4章 串
author: Allwayso
update: 2025-12-30
status: Updating
---

## 串的定义

串是由零个或多个字符组成的有限序列

**串的相关概念**

1. 空串指长度为零的串，空格串是由一个或多个空格组成的串
2. 子串是串中任意个连续字符组成的子序列，主串是包含子串的串
3. 字符在串中的位置是字符在序列中的序号，子串在主串中的位置以子串第一个字符的位置表示
4. 串相等要求长度相等且对应位置字符均相同

---

## 串的存储结构

**定长顺序存储**

1. 用一组地址连续的存储单元存储字符序列，预先分配固定长度的数组
2. 长度表示方法包括：在末尾添加结束标记（如 \0）、用一个变量记录长度或在首位存储长度
3. 算法名称：串插入算法、串删除算法、串连接算法

**堆分配存储**

1. 动态分配存储空间，空间地址连续，通过指针管理
2. 相比定长存储更灵活，可根据需要扩容

**块链存储**

1. 采用链式存储，每个结点可以存储一个或多个字符
2. 存储密度较低时会造成空间浪费，通常在最后一个结点填充特殊字符

---

## 串的模式匹配

模式匹配是在主串中寻找子串出现位置的过程

**简单模式匹配（BF算法）**

1. 从主串的每一个字符开始，依次与模式串进行匹配
2. 若匹配失败，主串指针回退到本次起始位置的下一个位置，模式串指针回退到起点
3. 时间复杂度最坏情况下为 O(n*m)
4. 算法名称：Brute-Force模式匹配算法

**KMP算法**

1. 利用已匹配的“部分匹配”信息，使主串指针不回退
2. 通过 next 数组决定模式串在失配时应滑动的距离
3. 时间复杂度为 O(n+m)
4. 算法名称：KMP模式匹配算法、计算next数组算法、计算nextval数组算法

**next数组与改进**

1. next[j] 表示当模式串第 j 个字符失配时，应跳到的下一个字符位置
2. next 数组的求法与前缀和后缀的最长公共元素长度有关
3. nextval 数组解决了 KMP 在某些连续重复字符下不必要的冗余比较

---

## 题目索引

1. **BF算法实现**：实现基础的暴力模式匹配，在主串中查找子串位置

2. **KMP算法实现**：实现 KMP 匹配逻辑并计算 next 数组

3. **nextval 优化实现**：在 KMP 基础上计算优化后的 nextval 数组

4. **串插入与删除**：在顺序串或堆串中实现指定位置的元素增删
